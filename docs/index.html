<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nonadult Age-at-Death Estimation Using Dental Wear • BAMSAUR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Nonadult Age-at-Death Estimation Using Dental Wear">
<meta property="og:description" content="A nonadult age-at-death estimation method using dental wear, intended for use on human skeletal remains. Other functions include sample evaluation, accuracy calculations using leave-one-out cross validation for linear, quadratic, and cubic regression, and MARS, incorporating age ranges, and a user-friendly GUI.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">BAMSAUR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/BAM_vignette.html">BAMSAUR</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bbartholdy/BAMSAUR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="bamsaur" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#bamsaur" class="anchor"></a>BAMSAUR</h1></div>
<!-- badges: start -->

<p>This package provides functions for the age-at-death estimation of nonadult human skeletal remains based on dental wear. The method was developed using a Dutch post-Medieval reference population; however, the package also allows the inclusion of other (more appropriate) reference samples. The main function allows the age-at-death estimation of nonadults based on a single wear score calculated from all available teeth, and additional functions allow the user to upload and evaluate their own reference sample, from which to base the age-at-death estimations. Users who are not familiar with the R-environment can also take advantage of a user-friendly graphical user interface (GUI).</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<ol>
<li>To install BAMSAUR, R (&gt;= 3.6.0) must first be installed (<a href="https://cran.r-project.org/" class="uri">https://cran.r-project.org/</a>).</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#2. Open R, and install the package "devtools" by entering the following into the R-console:</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>

<span class="co">#3. The BAMSAUR package can then be downloaded and installed:</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"bbartholdy/BAMSAUR"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bbartholdy/BAMSAUR">BAMSAUR</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<p>The BAMSAUR package uses the following R-packages:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"AICcmodavg"</span>, <span class="st">"earth"</span>, <span class="st">"ggfortify"</span>, <span class="st">"ggplot2"</span>, <span class="st">"shiny"</span><span class="op">)</span></code></pre></div>
<p>The method was developed on Middenbeemster, a 19th century Dutch skeletal collection containing individuals with documented age-at-death. The method uses a 9-stage dental wear scoring system, applicable to the entire deciduous and permanent (excluding third molars) dentitions. The average wear scores were used to develop a quadratic regression model from which to base age-at-death predictions. Age ranges are calculated using 68% prediction intervals (PIs). Users can also elect to use linear and cubic regression, or multivariate adaptive regression splines (MARS) for age-at-death predictions. Additional functions can be used to evaluate potential reference samples by developing linear, quadratic, and cubic regression models, as well as a MARS model (using the ‘earth’ package), and provides information on the developed models such as r-squared values, accuracies from leave-one-out cross validations (LOOCV), predictive residual error sum of squares (PRESS), Akaike and Bayesian information criterion (AIC and BIC), and precision (based on the average size of predicted age ranges). It also returns plots (using ‘ggplot2’) for each of the regression models.</p>
</div>
<div id="functions" class="section level1">
<h1 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h1>
<div id="bamsaur-age-at-death-estimation" class="section level2">
<h2 class="hasAnchor">
<a href="#bamsaur-age-at-death-estimation" class="anchor"></a>BAMSAUR age-at-death estimation</h2>
<p><code>BAMSAUR(wear, data = NULL, pop = "MB11", rank = 2, interval = "prediction", level = 0.68, mars.int = TRUE, ...)</code></p>
<p><code><a href="reference/BAMSAUR.mars.html">BAMSAUR.mars(wear, data = NULL, pop = "MB11", level = 0.68, varmod.method = "earth", nfold = n-1, ncross = 3)</a></code></p>
<p>The main function which can be used to predict age-at-death based on dental wear by entering an obtained wear score, following the dental wear method outlined in the main article (Bartholdy et al., under review). The Middenbeemster data is built-in, so if pop = “MB11” is chosen, the data input is not required. If pop = “other”, a data frame with a column for age and a second column for wear scores can be inserted. The function returns the input wear score, the age prediction, age range as +- years, and lower and upper intervals. The default method is a quadratic (rank = 2) model with 68%PIs, but “confidence” intervals and any level between 0 and 1 (0 - 100%), not inclusive, can be chosen. The input ‘mars.int’ allows the user to apply MARS-sized intervals to the estimates from simple regression models. The recommended setting for estimations based on the MB11 reference sample is TRUE, as this reference sample contains some individuals without documented age, and the MARS-sized age intervals can better account for this error. If ‘mars.int = FALSE’, regular confidence/prediction intervals are provided.</p>
<p>The BAMSAUR.mars function serves the same purpose as the BAMSAUR function, but uses a MARS model for the age-at-death estimation. Only “prediction” intervals are supported for MARS models. The default number of cross validations (ncross) is 3 to reduce computation time.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#The following example calculates the ages-at-death with MARS 68%PIs of 10 random wear scores</span>
<span class="va">wear</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0</span>,<span class="fl">16</span><span class="op">)</span>
<span class="fu">BAMSAUR</span><span class="op">(</span><span class="va">wear</span><span class="op">)</span>
<span class="co">#Ages-at-death using a linear model and 95%CIs</span>
<span class="fu">BAMSAUR</span><span class="op">(</span><span class="va">wear</span>, rank <span class="op">=</span> <span class="fl">1</span>, interval <span class="op">=</span> <span class="st">"confidence"</span>, level <span class="op">=</span> <span class="fl">0.95</span>, mars.int <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>

<span class="co">#Age-at-death calculation using MARS</span>
<span class="va">wear</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0</span>,<span class="fl">16</span><span class="op">)</span>
<span class="fu"><a href="reference/BAMSAUR.mars.html">BAMSAUR.mars</a></span><span class="op">(</span><span class="va">wear</span><span class="op">)</span>
<span class="co">#Age-at-death calculation using 90%PIs and a custom dataset</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="va">MBsimple</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span><span class="op">]</span>
<span class="fu"><a href="reference/BAMSAUR.mars.html">BAMSAUR.mars</a></span><span class="op">(</span><span class="va">wear</span>, data <span class="op">=</span> <span class="va">data</span>, pop <span class="op">=</span> <span class="st">"other"</span>, level <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></code></pre></div>
</div>
<div id="bamsaur-best-fit-function" class="section level2">
<h2 class="hasAnchor">
<a href="#bamsaur-best-fit-function" class="anchor"></a>BAMSAUR best-fit function</h2>
<p>“It’s not the sample size that matters, it’s the goodness-of-fit!”</p>
<p><code><a href="reference/BAMSAUR.bff.html">BAMSAUR.bff(data, interval = "prediction", level = 0.68, varmod.method = "earth", nfold = n-1, ncross = 3, ...)</a></code></p>
<p>This function can be used to evaluate a dataset to determine its feasibility as a reference sample for estimating age-at-death in the main BAMSAUR function. The data input must contain one column with known ages-at-death (whether osteologically estimated or documented age) and a second column with the associated wear scores. The function returns a summary of the developed linear, quadratic, and cubic regression models, as well as a MARS model. It also returns values to indicate goodness-of-fit of the various models, including r-squared values, accuracies from the LOOCV, PRESS, AIC (corrected for small sample sizes), BIC, and average age range (to indicate precision), as well as diagnostic plots.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#the following expression evaluates the sample with 68% prediction intervals as age ranges</span>
<span class="va">MBex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/BAMSAUR.bff.html">BAMSAUR.bff</a></span><span class="op">(</span><span class="va">MBsimple</span><span class="op">)</span>
<span class="co">#the following code accesses the quadratic plot</span>
<span class="va">MBex</span><span class="op">$</span><span class="va">quad.plot</span></code></pre></div>
</div>
<div id="bamsaur-shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#bamsaur-shiny-app" class="anchor"></a>BAMSAUR shiny app</h2>
<p><code><a href="reference/runBAM.html">runBAM()</a></code></p>
<p>This launches the BAMSAUR shiny app, which has similar functionality as the individual functions.</p>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">##Not run: runBAM()</span></code></pre></div>
</div>
<div id="bamsaur-data" class="section level2">
<h2 class="hasAnchor">
<a href="#bamsaur-data" class="anchor"></a>BAMSAUR data</h2>
<p>The BAMSAUR data contains two datasets: MBsimple and MBdata. MBsimple contains a column with known ages-at-death and associated wear scores for the Middenbeemster sample, which is built-in to the BAMSAUR and BAMSAUR.mars functions. MBdata contains all the wear scores for the individual teeth of each specimen that was used for the analysis, and is included for sharing and reproducibility purposes.</p>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Bartholdy, B.P., Hoogland, M.L.P, and Waters-Rist, A., under review. How Old Are You Now? A new ageing method for nonadults based on dental wear. International Journal of Osteoarchaeology. doi: 10.1002/oa.2758.</p>
<p>Hadley Wickham, Jim Hester and Winston Chang (2018). devtools: Tools to Make Developing R Packages Easier. R package version 1.13.6. <a href="https://CRAN.R-project.org/package=devtools" class="uri">https://CRAN.R-project.org/package=devtools</a></p>
<p>Hadley Wickham, Peter Danenberg and Manuel Eugster (2018). roxygen2: In-Line Documentation for R. R package version 6.1.0. <a href="https://CRAN.R-project.org/package=roxygen2" class="uri">https://CRAN.R-project.org/package=roxygen2</a></p>
<p>JJ Allaire, Jeffrey Horner, Vicent Marti and Natacha Porte (2017). markdown: ‘Markdown’ Rendering for R. R package version 0.8. <a href="https://CRAN.R-project.org/package=markdown" class="uri">https://CRAN.R-project.org/package=markdown</a></p>
<p>Marc J. Mazerolle (2017) AICcmodavg: Model selection and multimodel inference based on (Q)AIC(c). R package version 2.1-1. <a href="https://cran.r-project.org/package=AICcmodavg" class="uri">https://cran.r-project.org/package=AICcmodavg</a>.</p>
<p>Milborrow, S. Derived from mda:mars by Trevor Hastie and Rob Tibshirani. Uses Alan Miller’s Fortran utilities with Thomas Lumley’s leaps wrapper. (2019). earth: Multivariate adaptive regression splines. R package version 4.7.0. <a href="https://CRAN.R-project.org/package=earth" class="uri">https://CRAN.R-project.org/package=earth</a> publication</p>
<p>R Core Team (2018). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
<p>Wickham, H. (2015). R packages: organize, test, document, and share your code. O’Reilly Media, Inc.</p>
<p>Wickham, H. (2016). ggplot2: Elegant graphics for data analysis. New York: Springer-Verlag.</p>
<p>Winston Chang, Joe Cheng, JJ Allaire, Yihui Xie and Jonathan McPherson (2018). shiny: Web Application Framework for R. R package version 1.2.0. <a href="https://CRAN.R-project.org/package=shiny" class="uri">https://CRAN.R-project.org/package=shiny</a></p>
<p>Yuan Tang, Masaaki Horikoshi, and Wenxuan Li. “ggfortify: Unified Interface to Visualize Statistical Result of Popular R Packages.” The R Journal 8.2 (2016): 478-489.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/bbartholdy/BAMSAUR/">https://​github.com/​bbartholdy/​BAMSAUR/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing BAMSAUR</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Bjørn Peare Bartholdy <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/bbartholdy/BAMSAUR/actions"><img src="https://github.com/bbartholdy/BAMSAUR/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Bjørn Peare Bartholdy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
